#<?cfg paf policy ?>

needCalibRegistry: false

levels: {
    skyTile: "run" "camcol" "frame" "band"
    run: "camcol" "frame" "band"
    camcol: "frame" "band"
    frame: "band"
}
defaultLevel: "frame"
defaultSubLevels: {
    skyTile: "frame"
    run: "frame"
    camcol: "frame"
    frame: "band"
}

exposures: {
    fpC: {
        template:    "%(run)d/%(rerun)d/corr/%(camcol)d/fpC-%(run)06d-%(band)s%(camcol)d-%(frame)04d.fit.gz"
        python:     "lsst.afw.image.ImageU"
        persistable:         "ImageU"
        storage:     "FitsStorage"
        level:       "None"
        tables:        raw
        tables:        raw_skyTile
    }
    fpM: {
        template:    "%(run)d/%(rerun)d/objcs/%(camcol)d/fpM-%(run)06d-%(band)s%(camcol)d-%(frame)04d.fit"
        python:     "lsst.afw.image.ImageU"
        persistable:         "ImageU"
        storage:     "FitsStorage"
        level:       "None"
        tables:        raw
        tables:        raw_skyTile
    }
    coadd: {
        template:    "%(band)s/fpC-%(run)06d-%(band)s%(camcol)d-%(frame)04d_ts_coaddNorm_NN.fit.gz"
        python:     "lsst.afw.image.ExposureF"
        persistable:         "ExposureF"
        storage:     "FitsStorage"
        level:       "None"
        tables:        raw
        tables:        raw_skyTile
    }
    fpC_calexp: {
        template:      "calexp/%(run)d/%(camcol)d/%(band)s/calexp-%(run)06d-%(band)s%(camcol)d-%(frame)04d.fits"
        python:        "lsst.afw.image.ExposureF"
        persistable:        "ExposureF"
        storage:    "FitsStorage"
        level:       "None"
        tables:        raw
        tables:        raw_skyTile
    }
    coaddTempExp: {
        template:    "coaddTempExp/%(band)s/%(tract)d/%(run)d/%(camcol)d/coaddTemp-%(run)06d-%(band)s%(camcol)d-%(frame)04d.fits"
        python:      "lsst.afw.image.ExposureF"
        persistable: "ExposureF"
        storage:     "FitsStorage"
        tables:      raw
    }
}

datasets: {
    ccdExposureId: {
        template:     "ignored"
        # Provide something to import, although we actually return a Long
        python:       "lsst.daf.base.PropertySet"
        persistable:  "ignored"
        storage:      "ignored"
        tables:       "raw"
    }
    ccdExposureId_bits: {
        template:     "ignored"
        # Provide something to import, although we actually return an int
        python:       "lsst.daf.base.PropertySet"
        persistable:  "ignored"
        storage:      "ignored"
        tables:       "raw"
    }

    psField: {
        template:    "%(run)d/%(rerun)d/objcs/%(camcol)d/psField-%(run)06d-%(camcol)d-%(frame)04d.fit"
        python:     "lsst.afw.detection.Psf"
        persistable:         "ignored"
        storage:     "FitsStorage"
        tables:        raw
    }
    asTrans: {
        template:    "%(run)d/%(rerun)d/astrom/asTrans-%(run)06d.fit"
        python:     "lsst.afw.image.Wcs"
        persistable:         "ignored"
        storage:     "FitsStorage"
        tables:        raw
    }
    tsField: {
        template:    "%(run)d/%(rerun)d/calibChunks/%(camcol)d/tsField-%(run)06d-%(camcol)d-%(rerun)d-%(frame)04d.fit"
        python:     "lsst.afw.image.Calib"
        persistable:         "ignored"
        storage:     "FitsStorage"
        tables:        raw
    }


    fpC_icSrc: {
        template:      "fpC-results/%(run)d/%(camcol)d/%(band)s/icSrc/icSrc-%(run)06d-%(band)s%(camcol)d-%(frame)04d.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    fpC_icMatch: {
        template:      "fpC-results/%(run)d/%(camcol)d/%(band)s/icMatch/icMatch-%(run)06d-%(band)s%(camcol)d-%(frame)04d.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    fpC_psf: {
        template:      "fpC-results/%(run)d/%(camcol)d/%(band)s/psf/psf-%(run)06d-%(band)s%(camcol)d-%(frame)04d.boost"
        python:        "lsst.afw.detection.Psf"
        persistable:        "Psf"
        storage:    "BoostStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    fpC_apCorr: {
        template:      "fpC-results/%(run)d/%(camcol)d/%(band)s/apCorr/apCorr-%(run)06d-%(band)s%(camcol)d-%(frame)04d.pickle"
        python:        "lsst.meas.algorithms.ApertureCorrection"
        persistable:        "ApertureCorrection"
        storage:    "PickleStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    fpC_src: {
        template:      "fpC-results/%(run)d/%(camcol)d/%(band)s/src/src-%(run)06d-%(band)s%(camcol)d-%(frame)04d.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }

    coadd_icSrc: {
        template:      "coadd-results/%(run)d/%(camcol)d/%(band)s/icSrc/icSrc-%(run)06d-%(band)s%(camcol)d-%(frame)04d.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    coadd_icMatch: {
        template:      "coadd-results/%(run)d/%(camcol)d/%(band)s/icMatch/icMatch-%(run)06d-%(band)s%(camcol)d-%(frame)04d.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    coadd_psf: {
        template:      "coadd-results/%(run)d/%(camcol)d/%(band)s/psf/psf-%(run)06d-%(band)s%(camcol)d-%(frame)04d.boost"
        python:        "lsst.afw.detection.Psf"
        persistable:        "Psf"
        storage:    "BoostStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    coadd_apCorr: {
        template:      "coadd-results/%(run)d/%(camcol)d/%(band)s/apCorr/apCorr-%(run)06d-%(band)s%(camcol)d-%(frame)04d.pickle"
        python:        "lsst.meas.algorithms.ApertureCorrection"
        persistable:        "ApertureCorrection"
        storage:    "PickleStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    coadd_src: {
        template:      "coadd-results/%(run)d/%(camcol)d/%(band)s/src/src-%(run)06d-%(band)s%(camcol)d-%(frame)04d.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }

    forcedsources: {
        template:      "fpC-results/%(run)d/%(camcol)d/%(band)s/forcedsources/forcedsources-%(run)06d-%(band)s%(camcol)d-%(frame)04d.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:   "ignored"
        storage:       "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    sourceHist: {
        template:      "results/st%(skyTile)d/sourceHist.fits"
        python:        "lsst.afw.image.DecoratedImageU"
        persistable:        "DecoratedImageU"
        storage:    "FitsStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    badSourceHist: {
        template:      "results/st%(skyTile)d/badSourceHist.fits"
        python:        "lsst.afw.image.DecoratedImageU"
        persistable:        "DecoratedImageU"
        storage:    "FitsStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    source: {
        template:      "results/st%(skyTile)d/source.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    badSource: {
        template:      "results/st%(skyTile)d/badSource.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    invalidSource: {
        template:      "results/st%(skyTile)d/invalidSource.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    object: {
        template:      "results/st%(skyTile)d/object.fits"
        python:        "lsst.ap.cluster.SourceClusterCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    processCcd_config: {
        template:      "processCcd_config/%(run)d/%(camcol)d/%(band)s/calexp-%(run)06d-%(band)s%(camcol)d-%(frame)04d.py"
        python:        "lsst.pipe.tasks.processCcdSdss.ProcessCcdSdssConfig"
        persistable:      "Config"
        storage:    "ConfigStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    processCcd_metadata: {
        template:      "processCcd_metadata/%(run)d/%(camcol)d/%(band)s/calexp-%(run)06d-%(band)s%(camcol)d-%(frame)04d.boost"
        python:        "lsst.daf.base.PropertySet"
        persistable:        "PropertySet"
        storage:    "BoostStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    sourceAssoc_config: {
        template:      "sourceAssoc_config/st%(skyTile)d/config.py"
        python:        "lsst.ap.tasks.sourceAssoc.SourceAssocConfig"
        persistable:   "Config"
        storage:       "ConfigStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    sourceAssoc_metadata: {
        template:      "sourceAssoc_metadata/st%(skyTile)d/metadata.boost"
        python:        "lsst.daf.base.PropertySet"
        persistable:   "PropertySet"
        storage:       "BoostStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    forcedPhot_config: {
        template:      "forcedPhot_config/%(run)d/%(camcol)d/%(band)s/calexp-%(run)06d-%(band)s%(camcol)d-%(frame)04d.py"
        python:        "lsst.pex.config.Config"
        persistable:      "Config"
        storage:    "ConfigStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    forcedPhot_metadata: {
        template:      "forcedPhot_metadata/%(run)d/%(camcol)d/%(band)s/calexp-%(run)06d-%(band)s%(camcol)d-%(frame)04d.boost"
        python:        "lsst.daf.base.PropertySet"
        persistable:        "PropertySet"
        storage:    "BoostStorage"
        tables:        raw
        tables:        raw_skyTile
    }

    deepCoadd: {
        template:    "deepCoadd/%(band)s/%(tract)d/%(patch)s/coadd-%(band)s-%(tract)d-%(patch)s.fits"
        python:      "lsst.afw.image.ExposureF"
        persistable: "ExposureF"
        storage:     "FitsStorage"
        tables:      raw
    }
    deepCoadd_depth: {
        template:    "deepCoadd/%(band)s/%(tract)d/%(patch)s/depth-%(band)s-%(tract)d-%(patch)s.fits"
        python:      "lsst.afw.image.ImageF"
        persistable: "ImageF"
        storage:     "FitsStorage"
        tables:      raw
    }
    deepCoadd_initPsf: {
        template:    "deepCoadd/%(band)s/%(tract)d/%(patch)s/initPsf-%(band)s-%(tract)d-%(patch)s.boost"
        python:      "lsst.afw.detection.Psf"
        persistable: "Psf"
        storage:     "BoostStorage"
        tables:      raw
    }
    deepCoadd_skyMap: {
        template:    "deepCoadd/skyMap.pickle"
        python:      "lsst.skymap.BaseSkyMap"
        persistable: "ignored"
        storage:     "PickleStorage"
        tables:      raw
    }
    deepCoadd_icSrc: {
        template:      "deepCoadd-results/%(band)s/%(tract)d/%(patch)s/icSrc-%(band)s-%(tract)d-%(patch)s.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    deepCoadd_icMatch: {
        template:      "deepCoadd-results/%(band)s/%(tract)d/%(patch)s/icMatch-%(band)s-%(tract)d-%(patch)s.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    deepCoadd_psf: {
        template:      "deepCoadd-results/%(band)s/%(tract)d/%(patch)s/psf-%(band)s-%(tract)d-%(patch)s.boost"
        python:        "lsst.afw.detection.Psf"
        persistable:        "Psf"
        storage:    "BoostStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    deepCoadd_apCorr: {
        template:      "deepCoadd-results/%(band)s/%(tract)d/%(patch)s/apCorr-%(band)s-%(tract)d-%(patch)s.pickle"
        python:        "lsst.meas.algorithms.ApertureCorrection"
        persistable:        "ApertureCorrection"
        storage:    "PickleStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    deepCoadd_src: {
        template:      "deepCoadd-results/%(band)s/%(tract)d/%(patch)s/src-%(band)s-%(tract)d-%(patch)s.boost"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }

    goodSeeingCoadd: {
        template:    "goodSeeingCoadd/%(band)s/%(tract)d/%(patch)s/coadd-%(band)s-%(tract)d-%(patch)s.fits"
        python:      "lsst.afw.image.ExposureF"
        persistable: "ExposureF"
        storage:     "FitsStorage"
        tables:      raw
    }
    goodSeeingCoadd_depth: {
        template:    "goodSeeingCoadd/%(band)s/%(tract)d/%(patch)s/depth-%(band)s-%(tract)d-%(patch)s.fits"
        python:      "lsst.afw.image.ImageF"
        persistable: "ImageF"
        storage:     "FitsStorage"
        tables:      raw
    }
    goodSeeingCoadd_initPsf: {
        template:    "goodSeeingCoadd/%(band)s/%(tract)d/%(patch)s/initPsf-%(band)s-%(tract)d-%(patch)s.boost"
        python:      "lsst.afw.detection.Psf"
        persistable: "Psf"
        storage:     "BoostStorage"
        tables:      raw
    }
    goodSeeingCoadd_skyMap: {
        template:    "goodSeeingCoadd/skyMap.pickle"
        python:      "lsst.skymap.BaseSkyMap"
        persistable: "ignored"
        storage:     "PickleStorage"
        tables:      raw
    }
    goodSeeingCoadd_icSrc: {
        template:      "goodSeeingCoadd-results/%(band)s/%(tract)d/%(patch)s/icSrc-%(band)s-%(tract)d-%(patch)s.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    goodSeeingCoadd_icMatch: {
        template:      "goodSeeingCoadd-results/%(band)s/%(tract)d/%(patch)s/icMatch-%(band)s-%(tract)d-%(patch)s.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    goodSeeingCoadd_psf: {
        template:      "goodSeeingCoadd-results/%(band)s/%(tract)d/%(patch)s/psf-%(band)s-%(tract)d-%(patch)s.boost"
        python:        "lsst.afw.detection.Psf"
        persistable:        "Psf"
        storage:    "BoostStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    goodSeeingCoadd_apCorr: {
        template:      "goodSeeingCoadd-results/%(band)s/%(tract)d/%(patch)s/apCorr-%(band)s-%(tract)d-%(patch)s.pickle"
        python:        "lsst.meas.algorithms.ApertureCorrection"
        persistable:        "ApertureCorrection"
        storage:    "PickleStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    goodSeeingCoadd_src: {
        template:      "goodSeeingCoadd-results/%(band)s/%(tract)d/%(patch)s/src-%(band)s-%(tract)d-%(patch)s.boost"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }

    chiSquaredCoadd: {
        template:    "chiSquaredCoadd/%(tract)d/%(patch)s/coadd-%(tract)d-%(patch)s.fits"
        python:      "lsst.afw.image.ExposureF"
        persistable: "ExposureF"
        storage:     "FitsStorage"
        tables:      raw
    }
    chiSquaredCoadd_depth: {
        template:    "chiSquaredCoadd/%(tract)d/%(patch)s/depth-%(tract)d-%(patch)s.fits"
        python:      "lsst.afw.image.ImageF"
        persistable: "ImageF"
        storage:     "FitsStorage"
        tables:      raw
    }
    chiSquaredCoadd_initPsf: {
        template:    "chiSquaredCoadd/%(tract)d/%(patch)s/initPsf-%(tract)d-%(patch)s.boost"
        python:      "lsst.afw.detection.Psf"
        persistable: "Psf"
        storage:     "BoostStorage"
        tables:      raw
    }
    chiSquaredCoadd_skyMap: {
        template:    "chiSquaredCoadd/skyMap.pickle"
        python:      "lsst.skymap.BaseSkyMap"
        persistable: "ignored"
        storage:     "PickleStorage"
        tables:      raw
    }
    chiSquaredCoadd_icSrc: {
        template:      "chiSquaredCoadd-results/%(tract)d/%(patch)s/icSrc-%(tract)d-%(patch)s.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    chiSquaredCoadd_icMatch: {
        template:      "chiSquaredCoadd-results/%(tract)d/%(patch)s/icMatch-%(tract)d-%(patch)s.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    chiSquaredCoadd_psf: {
        template:      "chiSquaredCoadd-results/%(tract)d/%(patch)s/psf-%(tract)d-%(patch)s.boost"
        python:        "lsst.afw.detection.Psf"
        persistable:        "Psf"
        storage:    "BoostStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    chiSquaredCoadd_apCorr: {
        template:      "chiSquaredCoadd-results/%(tract)d/%(patch)s/apCorr-%(tract)d-%(patch)s.pickle"
        python:        "lsst.meas.algorithms.ApertureCorrection"
        persistable:        "ApertureCorrection"
        storage:    "PickleStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    chiSquaredCoadd_src: {
        template:      "chiSquaredCoadd-results/%(tract)d/%(patch)s/src-%(tract)d-%(patch)s.boost"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "ignored"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }

}
